[gd_scene load_steps=9 format=2]

[ext_resource path="res://Scenes/MMO.tscn" type="PackedScene" id=1]
[ext_resource path="res://Sprites/desk_texture.png" type="Texture" id=2]

[sub_resource type="GDScript" id=1]
script/source = "extends Spatial


# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"


# Called when the node enters the scene tree for the first time.
func _ready():
	$Viewport.set_clear_mode(Viewport.CLEAR_MODE_ONLY_NEXT_FRAME)

	yield(get_tree(), \"idle_frame\")
	yield(get_tree(), \"idle_frame\")
	
	$ViewportMesh.material_override.albedo_texture = $Viewport.get_texture()
	
# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#	pass
"

[sub_resource type="SpatialMaterial" id=4]
albedo_texture = ExtResource( 2 )

[sub_resource type="SpatialMaterial" id=5]
albedo_color = Color( 0.0509804, 0.0235294, 0.0235294, 1 )

[sub_resource type="SpatialMaterial" id=2]

[sub_resource type="PlaneMesh" id=3]

[sub_resource type="SpatialMaterial" id=6]
albedo_color = Color( 0, 0, 0, 1 )

[node name="Spatial" type="Spatial"]
script = SubResource( 1 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.19382, 1.2261 )

[node name="desk" type="CSGBox" parent="."]
transform = Transform( 2.75041, 0, 0, 0, 0.114225, 0, 0, 0, 1.83863, 0, 0, -1.31289 )
material_override = SubResource( 4 )

[node name="screen" type="CSGBox" parent="."]
transform = Transform( 1.28797, 0, 0, 0, 1.16275, 0, 0, 0, 0.0141691, -0.0166273, 1.60826, -1.23364 )
material = SubResource( 5 )

[node name="ViewportMesh" type="MeshInstance" parent="."]
transform = Transform( 1.07241, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, -0.0244942, 1.59783, -1.11037 )
material_override = SubResource( 2 )
mesh = SubResource( 3 )
material/0 = null

[node name="Viewport" type="Viewport" parent="."]
size = Vector2( 1024, 600 )
render_target_v_flip = true

[node name="MMO" parent="Viewport" instance=ExtResource( 1 )]

[node name="SpotLight" type="SpotLight" parent="."]
transform = Transform( 1, 0, 0, 0, -0.13805, 0.990425, 0, -0.990425, -0.13805, -3.79756, 14.0865, 3.63303 )
spot_range = 4.89752
spot_angle = 44.1404

[node name="CSGBox" type="CSGBox" parent="."]
transform = Transform( 0.505545, 0, 0, 0, 0.299199, 0, 0, 0, 0.326589, 0, 0.189046, -1.31906 )
material_override = SubResource( 6 )
